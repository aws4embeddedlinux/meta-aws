From b34ea98dd5dea61a8e45c7e10224e13ae18943d6 Mon Sep 17 00:00:00 2001
From: Adrian Catangiu <acatan@amazon.com>
Date: Wed, 5 May 2021 14:54:20 +0300
Subject: [PATCH] tests: cache machine cfg for later use

Signed-off-by: Adrian Catangiu <acatan@amazon.com>
---
 tests/framework/resources.py | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

diff --git a/tests/framework/resources.py b/tests/framework/resources.py
index cba6cc15..0a66b293 100644
--- a/tests/framework/resources.py
+++ b/tests/framework/resources.py
@@ -476,19 +476,26 @@ class MachineConfigure():
 
         self._machine_cfg_url = api_url + self.MACHINE_CFG_RESOURCE
         self._api_session = api_session
+        self._datax = {}
+
+    @property
+    def configuration(self):
+        """Return machine config dictionary."""
+        return self._datax
 
     def put(self, **args):
         """Specify the details of the machine configuration."""
-        datax = self.create_json(**args)
+        self._datax = self.create_json(**args)
 
         return self._api_session.put(
             "{}".format(self._machine_cfg_url),
-            json=datax
+            json=self._datax
         )
 
     def patch(self, **args):
         """Update the details of the machine configuration."""
         datax = self.create_json(**args)
+        self._datax.update(datax)
 
         return self._api_session.patch(
             "{}".format(self._machine_cfg_url),
